function onSubmitEventForm(e){var n=document.getElementById("subscibe-event"),t=this.ComponentFormValidation.validateForm($("#subscibe-event"));t?n.submit():grecaptcha.reset()}function onSubmitCareerForm(e){var n=document.getElementById("send-candidate"),t=this.ComponentFormValidation.validateForm($("#send-candidate"));t?n.submit():grecaptcha.reset()}function onSubmitBeContactedForm(e){var n=document.getElementById("be-contacted"),t=this.ComponentFormValidation.validateForm($("#be-contacted"));t?n.submit():grecaptcha.reset()}function onSubmitContactUsForm(e){var n=document.getElementById("contact-us"),t=this.ComponentFormValidation.validateForm($("#contact-us"));t?n.submit():grecaptcha.reset()}jQuery(function(e){var n={init:function(){n.config={lang:e("html").attr("lang"),cachedWidth:e(window).width()},n.initMenu(),n.initCookieConsent(),n.initContact(),n.initResponsive(),n.initGlobalClick(),n.initCustomColor(),e(".footer-top-link").on("click",function(n){n.preventDefault(),e("html, body").animate({scrollTop:0},500)}),e(".choice").length>0&&n.initFormPhrase(),e(".blog-container, .agenda-container").length>0&&n.initBlog(),e(".office-slider").length>0&&n.initOfficeSlider(),e(".history-slider").length>0&&n.initHistorySlider(),e("#video-player").length>0&&n.initVideoGallery(),e(".funds-list").length>0&&n.initFunds(),e("form.validate-form").length>0&&n.initFormValidation(),e(".all-lifeprojects").length>0&&n.initViewMoreLifeProjects(),e("#video-presentation").length>0&&n.initVideoPresentation(),e(".tags-swipe").length>0&&n.initTagsSwipe(),e(window).resize(function(){var t=e(window).width();t!==n.config.cachedWidth&&(n.config.cachedWidth=t,n.initResponsive())}),e(window).on("orientationchange",function(){location.reload()})},initMenu:function(){ComponentMenu.init()},initBlog:function(){ComponentBlog.init()},initFormPhrase:function(){ComponentFormPhrase.init()},initCookieConsent:function(){var e="We use cookies to create the most secure and effective website possible for our customers.",t="Accept",o="Full details here.";"fr-FR"==n.config.lang&&(e="En poursuivant votre navigation sur ce site, vous acceptez l’utilisation de cookies pour vous proposer des contenus adaptés.",t="Accepter",o="En savoir plus."),window.cookieconsent.initialise({palette:{popup:{background:"#5a9bff"},button:{background:"#ffffff",color:"#b5b5b5"}},content:{message:e,dismiss:t,link:o}})},initContact:function(){ComponentContact.init()},initOfficeSlider:function(){ComponentOfficeSlider.init()},initHistorySlider:function(){ComponentHistorySlider.init()},initVideoGallery:function(){e(window).width()>959?ComponentVideoGallery.init():($videosGallery=e(".videos-gallery"),$videosGallery.prev("h2").length>0&&$videosGallery.prev("h2").addClass("hide"),e(".change-video").each(function(){$vid=e(this),vidId=$vid.data("video-id"),vidPlat=$vid.data("plateform"),"vimeo"==vidPlat?$vid.attr("href","https://vimeo.com/"+vidId):$vid.attr("href","https://www.youtube.com/watch?v="+vidId),$vid.attr("target","_blank")}))},initDisclaimer:function(){ComponentDisclaimer.init()},initFunds:function(){ComponentFunds.init()},initFormValidation:function(){ComponentFormValidation.init()},initResponsive:function(){if(e(window).width()>1259&&ComponentScrollWatch.init(),ComponentResponsive.init(),e(window).width()>639&&e(".equal-height").length>0){var n=0,t=0;e(".equal-height").each(function(){var o=e(this);o.find("h3").each(function(){e(this).height()>n&&(n=e(this).height())}),o.find("p").each(function(){e(this).height()>t&&(t=e(this).height())})}),e(".equal-height").find("h3").css("height",n),e(".equal-height").find("p").css("height",t)}},initGlobalClick:function(){ComponentGlobalClick.init()},initCustomColor:function(){ComponentCustomColor.init()},initViewMoreLifeProjects:function(){e(".all-lifeprojects").on("click",function(){e(".more-lifeprojects").addClass("deploy"),e(this).remove()})},initVideoPresentation:function(){var n=document.createElement("script");n.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t);var o,i=e("#video-presentation").data("plateform"),a=e("#video-presentation").data("video-id");if("youtube"==i)window.onYouTubeIframeAPIReady=function(){var e={width:"640",height:"380",videoId:a};o=new YT.Player("video-presentation",e)};else{var s={id:a,width:"640",height:"380"};o=new Vimeo.Player("video-presentation",s)}},initTagsSwipe:function(){e(".tags-swipe").each(function(){var n=e(this),t=0,o=0,i=0,a=n.find(".tag").length;n.find(".tag").each(function(n){t+=e(this).outerWidth()+16,n==a-1&&(i=e(this).outerWidth()+16)}),o=t-i,n.find(".tags-container").width(Math.ceil(t)),new Hammer(n[0],{domEvents:!0});var s=n.find(".tags-container"),r=0;n.on("pan",function(e){e.stopPropagation();var n=r+e.originalEvent.gesture.deltaX;n>=-o&&n<=0&&(s.css({left:r+e.originalEvent.gesture.deltaX}),r+=e.originalEvent.gesture.deltaX)})})}};e(document).ready(n.init),e(window).on("load",function(){e("#form_disclaimer").length>0&&n.initDisclaimer()})});var ComponentBlog={init:function(){console.log("==> init blog"),ComponentBlog.config={filters:[]},$(".filters .filter").each(function(){$(this).hasClass("active")&&"all"!=$(this).data("filter")&&ComponentBlog.config.filters.push($(this).data("filter"))}),$(".blog-container").length>0&&$(".blog-container").masonry({columnWidth:".grid-sizer",itemSelector:".card",percentPosition:!0,gutter:20,fitWidth:!0});$(".filters-categories-container");$(".blog-more .cta-more").length>0&&ComponentBlog.infiniteLoadPosts();$(".filters-categories-event-container");$(".agenda-more .cta-more").length>0&&ComponentBlog.infiniteLoadEvents()},infiniteLoadPosts:function(){var e=new InfiniteScroll(".blog-container",{path:".blog-more .cta-more",append:".blog-container .card",scrollThreshold:!1,button:".blog-more .cta-more",history:!1});e.on("append",function(e,n,t){$(".blog-container").imagesLoaded(function(){$(".blog-container").masonry("appended",t,!0),ComponentBlog.showPosts()})})},infiniteLoadEvents:function(){var e=new InfiniteScroll(".agenda-container",{path:".agenda-more .cta-more",append:".agenda-container .agenda-line",scrollThreshold:!1,button:".agenda-more .cta-more",history:!1});e.on("append",function(e,n,t){ComponentBlog.showEvents()})},filterPostByCats:function(e){var n=ComponentBlog.config,t=$('*[data-filter="all"]'),o=e.data("filter"),i=e.hasClass("active");if("all"!=o)if(e.toggleClass("active"),t.removeClass("active"),i===!1)n.filters.push(o);else{for(var a=0,s=0,a=0;a<n.filters.length;a++)o==n.filters[a]&&(s=a),++a;n.filters.splice(s,1)}else $(".filter").removeClass("active"),n.filters=[];0===n.filters.length&&t.addClass("active"),e.parents(".filters-categories-event-container").length>0?ComponentBlog.showEvents():e.parents(".filters-categories-container").length>0&&ComponentBlog.showPosts()},showPosts:function(){0===ComponentBlog.config.filters.length?($(".blog-container .card").removeClass("hide"),$(".blog-container").masonry("layout")):($(".blog-container .card").each(function(e){var n=$(this),t=n.data("cats"),o=t.split(","),i=ComponentBlog.array_intersect(o,ComponentBlog.config.filters),a=Object.getOwnPropertyNames(i),s=a.indexOf("each");s>=0&&a.splice(s,1),a.length>0?n.removeClass("hide"):n.addClass("hide")}),$(".blog-container").masonry("layout"))},showEvents:function(){0===ComponentBlog.config.filters.length?$(".agenda-container .agenda-line").removeClass("hide"):$(".agenda-container .agenda-line").each(function(){var e=$(this),n=e.data("cats"),t=n.split(","),o=ComponentBlog.array_intersect(t,ComponentBlog.config.filters),i=Object.getOwnPropertyNames(o),a=i.indexOf("each");a>=0&&i.splice(a,1),i.length>0?e.removeClass("hide"):e.addClass("hide")})},array_intersect:function(e){var n={},t=arguments.length,o=t-1,i="",a={},s=0,r="";e:for(i in e)n:for(s=1;s<t;s++){a=arguments[s];for(r in a)if(a[r]===e[i]){s===o&&(n[i]=e[i]);continue n}continue e}return n}},ComponentContact={init:function(){console.log("==> init contact"),this.initInputFile(),this.initContactMethods(),$("select").focusin(function(){$(this).parent().addClass("focused")}).focusout(function(){$(this).parent().removeClass("focused")})},initInputFile:function(){$(".inputfile").each(function(){var e=$(this),n=e.next("label"),t=n.html();e.on("change",function(e){var o="";this.files&&this.files.length>1?o=(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value&&(o=e.target.value.split("\\").pop()),o?n.find("span").html(o):n.html(t)}),e.on("focus",function(){e.addClass("has-focus")}).on("blur",function(){e.removeClass("has-focus")})})},initContactMethods:function(){1===$("#be-contacted").length&&$(".radios input").on("change",function(){"email"==$("input[name=contact_method]:checked","#be-contacted").val()?$("#form_becontacted-sel-hours").parents(".form-select").removeClass("required").addClass("hide"):$("#form_becontacted-sel-hours").parents(".form-select").addClass("required").removeClass("hide")})}},ComponentCustomColor={init:function(){console.log("==> init custom color"),ComponentCustomColor.config={colorClasses:["colored-green","colored-orange","colored-violet"],currentColor:0};setInterval(ComponentCustomColor.changeColor,1e4)},changeColor:function(){$("body").removeClass(ComponentCustomColor.config.colorClasses[ComponentCustomColor.config.currentColor]),ComponentCustomColor.config.currentColor=ComponentCustomColor.config.currentColor+1,3===ComponentCustomColor.config.currentColor&&(ComponentCustomColor.config.currentColor=0),$("body").addClass(ComponentCustomColor.config.colorClasses[ComponentCustomColor.config.currentColor])}},ComponentDisclaimer={init:function(){console.log("==> init disclaimer"),ComponentDisclaimer.config={country:!1,language:!1,profil:!1},$("#disclaimer-country").is(":disabled")&&(ComponentDisclaimer.config.country="suisse"),this.shortDisclaimer(),this.handleDisclaimer()},shortDisclaimer:function(){$(".disclaimer-intro").find("p").not(":eq(0)").addClass("hide"),$(".disclaimer-intro").find("p").first().after('<button class="cta cta-light see-more-disclaimer">Voir plus</button>'),$(".see-more-disclaimer").on("click",function(){$(this).remove(),$(".disclaimer-intro").find("p").removeClass("hide")})},handleDisclaimer:function(){$("#accept_disclaimer").change(function(){$(this).is(":checked")?$("#form_disclaimer").find("form").removeClass("not-accepted"):$("#form_disclaimer").find("form").addClass("not-accepted")}),$("#form_disclaimer").find("form").submit(function(){if($(this).hasClass("not-accepted"))return $(this).find(".form-error").removeClass("hide"),!1}),$("#disclaimer-country").change(function(){var e=$(this).val();"-1"!=e?ComponentDisclaimer.config.country=e:ComponentDisclaimer.config.country=!1,ComponentDisclaimer.displayDisclaimer()}),$("input[type=radio][name=disclaimer-profil]").change(function(){ComponentDisclaimer.config.profil=$(this).val(),ComponentDisclaimer.displayDisclaimer(),$("html, body").animate({scrollTop:$("#form_disclaimer form").offset().top-($("header").height()+26)},400)}),ComponentDisclaimer.changeDisclaimerLanguage()},displayDisclaimer:function(){ComponentDisclaimer.config.country&&ComponentDisclaimer.config.profil?$(".form-disclaimer-state").removeClass("hide"):$(".form-disclaimer-state").addClass("hide")},changeDisclaimerLanguage:function(){$("#disclaimer-language").change(function(){ComponentDisclaimer.config.language=$(this).val(),$(".form-disclaimer-txt").addClass("hide"),$("#form_disclaimer").find(".cta").addClass("hide"),"-1"!=ComponentDisclaimer.config.language&&($('.form-disclaimer-txt[data-lang="'+ComponentDisclaimer.config.language+'"]').removeClass("hide"),$("#form_disclaimer").find(".cta").removeClass("hide"))})}},ComponentFormPhrase={init:function(){console.log("==> init form phrase"),$(".form-access").submit(ComponentFormPhrase.pushFormPhrase),$(".choice-list").mCustomScrollbar({axis:"y",callbacks:{onOverflowY:function(){var e=$(this).data("mCS").opt;"y"!==e.mouseWheel.axis&&(e.mouseWheel.axis="y")}}}),$(".choice").each(function(){var e=$(this);e.on("click",".user-choice",function(n){n.stopPropagation(),$(".choice").removeClass("show-list"),e.addClass("show-list"),$("body").on("click",ComponentFormPhrase.closeChoice)}),e.on("click",".mCSB_scrollTools",function(e){e.stopPropagation()}),e.on("click","li",function(n){n.stopPropagation();var t=$(this).text();$(this).index()+1;if(e.find("li").removeClass("selected"),e.find(".user-choice-text").attr("data-stroketext",t),e.find(".user-choice-text").text(t),$(this).addClass("selected"),$(this).parent().prepend($(this)),e.removeClass("show-list"),$(this).parents(".form-access").length>0){var o=$(this).parents(".choice"),i=o.attr("id"),a=$(this).data("value");$(this).parents(".form-access").find('input[name="'+i+'"]').val(a)}if($(this).parents("#choice-office").length>0){var s=$(this).data("value"),r=$(".select-office"),l={office:s},c=r.find(".block .cta"),d=c.attr("href")+"?"+jQuery.param(l);console.log(l,d),r.find(".phone-number").addClass("hide"),r.find('.phone-number[data-office="'+s+'"]').removeClass("hide"),c.attr("href",d)}}),e.find("li").on("mouseenter",function(){$(this).parents(".choice-list").addClass("choice-list-hover")}).on("mouseleave",function(){$(".choice-list").removeClass("choice-list-hover")})})},handleChoiceKeyUp:function(e){$(document.activeElement).hasClass("choice")&&(e=e||window.event,13===e.keyCode?($(".choice").removeClass("show-list"),$(document.activeElement).addClass("show-list"),$(document.activeElement).find(".choice-list li").attr("tabindex","0"),$("body").on("click",ComponentFormPhrase.closeChoice)):ComponentFormPhrase.closeChoice())},handleChoiceListKeyUp:function(e){e=e||window.event,13===e.keyCode&&($(document.activeElement).click(),$(".choice-list li").attr("tabindex","-1"))},closeChoice:function(){$(".choice").removeClass("show-list"),$("body").off("click",ComponentFormPhrase.closeChoice),$(".choice-list li").attr("tabindex","-1")},pushFormPhrase:function(){var e=$(".formphrase").clone();e.find(".user-choice-ico, .choice-list").remove(),$formphrase_txt=e.text().replace(/\s+/g," "),dataLayer.push({event:"actionpiguet","W-cat":"Actions Projet de vie","W-act":"Clic formulaire","W-lib":$formphrase_txt})}},ComponentFormValidation={init:function(){console.log("==> init form validation"),setTimeout(function(){if($(".form-validation").length>0){var e=$(".form-validation").position().top-120;$("html, body").animate({scrollTop:e},e)}},300)},validateForm:function(e){$(".required").removeClass("form-error"),$(".form-error-message").remove();var n=!0;return e||(e=$(this)),e.find(".required").each(function(){var e=$(this),t=!1;e.hasClass("form-input")?0==e.find("input").val().length&&(t=!0):e.hasClass("form-textarea")?(console.log(e.find("textarea").val().length),0==e.find("textarea").val().length&&(t=!0)):e.hasClass("form-select")?e.find("option:selected").val()==-1&&(t=!0):e.hasClass("radios")?0==e.find("input:radio:checked").length&&(t=!0):e.hasClass("checkboxes")?0==e.find("input:checkbox:checked").length&&(t=!0):e.hasClass("form-inputfile")&&0==e.find("input").val().length&&(t=!0),t&&(e.addClass("form-error"),e.append('<span class="form-error-message">Ce champ est requis.</span>'),n=!1)}),n}},ComponentFunds={init:function(){console.log("==> init funds"),ComponentFunds.config={total_funds:$(".fund").length,input_name:$("#fund-name"),search_txt:"",filter_classe:"",filter_currency:[]},$(".funds-number").text(ComponentFunds.config.total_funds),$(".open-fund").click(ComponentFunds.openFund),0==$(".certificats-list").length&&($(".fund-tag").click(ComponentFunds.filterFund),$(".filters-reset button").click(ComponentFunds.resetFilters),ComponentFunds.config.input_name.keyup(ComponentFunds.findByName),ComponentFunds.findByName()),setTimeout(function(){if(1==$(".search-in-list").length&&$(".fund-entry.active").length>0){var e=$(".fund-entry.active").position().top-200;$("html, body").animate({scrollTop:e},e)}},300)},openFund:function(){var e=$(this).parents(".fund");e.toggleClass("fund-opened")},filterFund:function(){var e=$(this),n=$(this).parent();e.hasClass("tag-classe")&&n.find(".tag-classe").not($(this)).removeClass("active"),e.toggleClass("active");var t=$(".tag-classe.active");t.length>0?ComponentFunds.config.filter_classe=e.data("fund-classe"):ComponentFunds.config.filter_classe="";var t=$(".tag-currency.active");t.length>0?(active_filters_currency=[],t.each(function(e,n){active_filters_currency.push($(n).data("fund-currency"))}),ComponentFunds.config.filter_currency=active_filters_currency.sort()):ComponentFunds.config.filter_currency=[],ComponentFunds.toggleFundVisibility()},findByName:function(){ComponentFunds.config.search_txt=ComponentFunds.config.input_name.val(),ComponentFunds.toggleFundVisibility()},toggleFundVisibility:function(){var e=ComponentFunds.config,n=e.total_funds,t=!0;$("p.no-result").remove(),$(".fund-entry").removeClass("active"),$(".fund").removeClass("fund-opened"),$(".fund").each(function(){var o=$(this),i=o.find("h2").text(),a=!1,s=o.data("fund-classe"),r=!1,l=o.data("fund-currency").split("-").sort(),c=!1;e.search_txt.length<3||i.search(new RegExp(e.search_txt,"i"))!=-1?a=!0:o.find(".fund-entry").each(function(){$(this).data("isin").search(new RegExp(e.search_txt,"i"))!=-1&&(a=!0,$(this).addClass("active"),$(this).parents(".fund").addClass("fund-opened"))}),0!=e.filter_classe.length&&s!=e.filter_classe||(r=!0),Array.prototype.diff=function(e){var n=this.concat(e);return n.filter(function(e){return n.indexOf(e)===n.lastIndexOf(e)})},(0==e.filter_currency.length||e.filter_currency.length<=l.length&&l.diff(e.filter_currency).length<=l.length-1)&&(c=!0),a&&r&&c?o.removeClass("hide"):o.addClass("hide"),--n,o.hasClass("hide")||(t=!1),!n&&t&&$(".funds-list-body").prepend('<p class="no-result container">Aucun fond ne correspond à vos critères</p>')}),ComponentFunds.totalFunds()},totalFunds:function(){var e=$(".fund").not(".hide").length;$(".funds-number").text(e),ComponentFunds.config.search_txt.length>0&&0==e?dataLayer.push({event:"actionpiguet","W-cat":"Moteur Recherche Fond","W-act":"search - no results","W-lib":ComponentFunds.config.search_txt}):ComponentFunds.config.search_txt.length>0&&dataLayer.push({event:"actionpiguet","W-cat":"Moteur Recherche Fond","W-act":"search - results","W-lib":ComponentFunds.config.search_txt})},resetFundVisibility:function(){$("p.no-result").remove(),$(".fund").removeClass("hide"),ComponentFunds.totalFunds()},resetFilters:function(){ComponentFunds.config.input_name.val(""),$(".fund-tag").removeClass("active"),ComponentFunds.config.search_txt="",ComponentFunds.config.filter_classe="",ComponentFunds.config.filter_currency="",ComponentFunds.resetFundVisibility()}},ComponentGlobalClick={init:function(){if(console.log("==> init global click"),$(".more-articles").length>0&&0==$(".change-video").length&&$(".more-article").each(function(){var e=$(this).find("a.cta").attr("href");null==e&&(e=$(this).find("h3 a").attr("href")),$(this).click(function(n){window.location=e}).find(".tags-swipe").click(function(){return!1}).find("a.tag").click(function(){tag_url=$(this).attr("href"),window.location=tag_url})}),$(".push-home").length>0&&$(".push-home").each(function(){var e=$(this).find("a.cta").attr("href");$(this).click(function(n){window.location=e}).find(".tags-swipe").click(function(){return!1}).find("a.tag").click(function(){tag_url=$(this).attr("href"),window.location=tag_url})}),$(".blog-container .card").length>0&&$(".blog-container .card").each(function(){var e=$(this).find("h3 a").attr("href");$(this).click(function(n){window.location=e}).find(".tags-swipe").click(function(){return!1}).find("a.tag").click(function(){tag_url=$(this).attr("href"),window.location=tag_url})}),$(".content-menu .card").length>0&&$(".content-menu .card").each(function(){var e=$(this).find(".card__title a").attr("href");$(this).click(function(n){window.location=e}).find(".tags-swipe").click(function(){return!1}).find("a.tag").click(function(){tag_url=$(this).attr("href"),window.location=tag_url})}),$(".more-contents .col, .more-contents .more-content-big").length>0&&$(".more-contents .col, .more-contents .more-content-big").each(function(){var e=$(this).find("a.cta").attr("href");$(this).click(function(n){window.location=e})}),$(".header-page-card .card").length>0&&$(".header-page-card .card").each(function(){var e=$(this).find(".card__title a").attr("href");"undefined"==typeof e&&(e=$(this).find("a.cta").attr("href")),$(this).click(function(n){window.location=e}).find(".tags-swipe").click(function(){return!1}).find("a.tag").click(function(){tag_url=$(this).attr("href"),window.location=tag_url})}),$(".fund-table").length>0){if($(window).width()<960)return;$(".funds-list").not(".certificats-list").find(".fund-entry").each(function(){var e=$(this).find("a.fund-link").attr("href"),n=$(this).find("a.fund-link").attr("target");$(this).click(function(t){"_blank"==n?window.open(e,"_blank"):window.location=e})})}($(".push-download a").length>0||$(".push-links a").length>0)&&$(".push-download a, .push-links a").on("click",function(){var e=$(this),n=e.attr("href").split(".").pop(),t="";e.parents(".push-download").length>0&&(t=e.parents(".push-download").find("p em").text()),e.parents(".push-links").length>0&&(t=e.text()),dataLayer.push({event:"actionpiguet","W-cat":"téléchargement de documents","W-act":n,"W-lib":t})})}},ComponentHistorySlider={init:function(){if(console.log("==> init history slider"),ComponentHistorySlider.config={current_slide:0,total_slides:$(".history-slide").length,slide_width:$(".history-slide").outerWidth(),date_width:160,$slider_content:$(".history-slider-content"),$slider_chrono:$(".history-slider-chrono")},$(window).width()<640){ComponentHistorySlider.config.slide_width=$(".history-slider-container .history-slider").width(),$(".history-slider .history-slide, .history-slider .history-slide-img img").width(ComponentHistorySlider.config.slide_width);var e=$(".history-slider .history-slide, .history-slider .history-slide-img img").height();$(".history-slider-container .history-slider .history-slider-content").height(e),$(".history-slider-container").hasClass("history-slider-container-page")||$(".history-slider-container .container").after($(".history-slider-container .history-slider"))}var n=ComponentHistorySlider.config;n.$slider_content.width(n.total_slides*n.slide_width+40),n.$slider_chrono.width(n.total_slides*n.date_width),$(".next-date").click(function(){ComponentHistorySlider.changeSlide("button",1)}),$(".prev-date").click(function(){ComponentHistorySlider.changeSlide("button",-1)}),$(".history-date button").click(function(){var e=$(this).parent().index();ComponentHistorySlider.changeSlide("date",e)});var t=new Hammer(n.$slider_content[0]);t.on("swipeleft",function(e){n.current_slide<n.total_slides-1&&ComponentHistorySlider.changeSlide("button",1)}),t.on("swiperight",function(e){n.current_slide>0&&ComponentHistorySlider.changeSlide("button",-1)}),$("body").on("keyup",function(e){var n=e.keyCode||e.which;9==n&&$(document.activeElement).parents(".history-date").length>0&&$(document.activeElement).click()})},changeSlide:function(e,n){var t=0;"button"==e?t=ComponentHistorySlider.config.current_slide+n:"date"==e&&(t=n),$(".history-slide.current, .history-date.current").removeClass("current"),setTimeout(function(){ComponentHistorySlider.config.$slider_content.animate({left:-t*ComponentHistorySlider.config.slide_width},{duration:600,specialEsing:{left:"cubic-bezier(0.165, 0.84, 0.44, 1)"},complete:function(){$(".history-slide").eq(t).addClass("current")}})},400),setTimeout(function(){ComponentHistorySlider.config.$slider_chrono.animate({left:-(t-1)*ComponentHistorySlider.config.date_width},{duration:600,specialEsing:{left:"cubic-bezier(0.165, 0.84, 0.44, 1)"},complete:function(){$(".history-date").eq(t).addClass("current")}})},300),ComponentHistorySlider.config.current_slide=t}},ComponentMenu={init:function(){console.log("==> init menu"),this.initMainMenu(),this.initSecondaryMenu(),this.initLangMenu(),this.initTopSearchForm(),0==$(".page-template-disclaimer").length&&this.watchScroll(),this.openMobileMenu(),this.closeMobileMenu(),this.initHoverMenu(),$("body").on("keyup",function(e){var n=e.keyCode||e.which;9==n&&(0==$(document.activeElement).parents(".secondary-menu").length&&(ComponentMenu.closeSecondaryMenu(),ComponentMenu.initSecondaryMenu()),0==$(document.activeElement).parents(".header-searchform-container").length&&($(".header-searchform-container").removeClass("down"),$(".header-searchform-container").find("a, button, input").attr("tabindex","-1")),0==$(document.activeElement).parents(".pll-parent-menu-item").length&&$(".pll-parent-menu-item").removeClass("open"),$(document.activeElement).parents("ul").length>0&&$(document.activeElement).parents("ul").addClass("menu-hover"))})},initMainMenu:function(){$(".main-menu a").click(function(e){e.stopPropagation();var n=$.grep(this.parentNode.className.split(" "),function(e,n){return 0===e.indexOf("openmenu")}).join(),t=n.replace("open","");$(".secondary-menu."+t).addClass("slidein"),$(".secondary-menu."+t).find(".header-menu-close").first().focus(),ComponentMenu.initSecondaryMenu(),$("body").on("click",ComponentMenu.closeSecondaryMenu)}),$(".secondary-menu").click(function(e){e.stopPropagation()}),$(".secondary-menu .header-menu-close").click(ComponentMenu.closeSecondaryMenu);var e=$(".top-menu .menu").clone();e.addClass("top-menu hide-desktop"),e.find("a").attr("tabindex","-1"),$(".main-menu").append(e),ComponentMenu.currentMenuItem()},currentMenuItem:function(){$("body").hasClass("single-lifeproject")?$(".openmenu-projets").addClass("current-menu-item"):$("body").hasClass("single-service")?$(".openmenu-services").addClass("current-menu-item"):$("body").hasClass("page-template-funds")||$("body").hasClass("page-template-certificats")||$("body").hasClass("single-fund")||$("body").hasClass("single-solution")?$(".openmenu-solutions").addClass("current-menu-item"):$("body").hasClass("page-template-agenda")||$("body").hasClass("page-template-blog")||$("body").hasClass("single-post")||$("body").hasClass("single-event")?$(".openmenu-posts").addClass("current-menu-item"):($("body").hasClass("page-template-presentation")||$("body").hasClass("page-template-offices")||$("body").hasClass("page-template-engagements")||$("body").hasClass("page-template-career")||$("body").hasClass("page-template-contact"))&&$(".openmenu-decouvrir").addClass("current-menu-item")},initSecondaryMenu:function(){var e=$(".secondary-menu");e.each(function(){$(this).find("a, button, input").attr("tabindex","-1")}),$(".secondary-menu.slidein").find("a, button, input").removeAttr("tabindex")},closeSecondaryMenu:function(){$(".secondary-menu").removeClass("slidein"),$("body").off("click",ComponentMenu.closeSecondaryMenu)},initLangMenu:function(){$(".pll-parent-menu-item").length>0&&($(".pll-parent-menu-item a").each(function(){var e=$(this).text(),n=e.substring(0,2);$(this).text(n)}),$(".pll-parent-menu-item").on("click",function(){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")}),$(".pll-parent-menu-item .sub-menu a").on("focus",function(){$(this).parents(".pll-parent-menu-item").addClass("open")}))},initTopSearchForm:function(){$(".header-searchform-container").find("a, button, input").attr("tabindex","-1"),$(".open-searchform").click(function(e){$(".header-searchform-container").addClass("down"),$(".header-searchform-container #s").focus(),$(".header-searchform-container.down").find("a, button, input").removeAttr("tabindex")}),$(".header-searchform-close").click(function(e){$(".header-searchform-container").removeClass("down"),$(".header-searchform-container").find("a, button, input").attr("tabindex","-1")})},watchScroll:function(){$(window).on("scroll",function(e){$(this).scrollTop()>144?($(".PageWrapper").addClass("scroll"),$(".header-searchform-container").removeClass("down")):$(".PageWrapper").removeClass("scroll")})},openMobileMenu:function(){$(".header-mobile-menu").click(function(){$(".main-menu").addClass("show"),$("body").addClass("menu-open")})},closeMobileMenu:function(){$(".main-menu .header-menu-close").click(function(){$(".main-menu").removeClass("show"),$("body").removeClass("menu-open")})},initHoverMenu:function(){$(".main-menu .menu li").on("mouseenter",function(){$(".main-menu .menu").addClass("menu-hover")}).on("mouseleave",function(){$(".main-menu .menu").removeClass("menu-hover")}),$(".secondary-menu .content-menu li.list-link, .secondary-menu .content-menu .list-links li").on("mouseenter",function(){$(this).parent().addClass("menu-hover")}).on("mouseleave",function(){$(this).parent().removeClass("menu-hover")}),$(".footer-menu li, .footer-social a").on("mouseenter",function(){$(this).parent().addClass("menu-hover")}).on("mouseleave",function(){$(this).parent().removeClass("menu-hover")}),$(".sharebox li").on("mouseenter",function(){$(this).parent().addClass("menu-hover")}).on("mouseleave",function(){$(this).parent().removeClass("menu-hover")})}},ComponentOfficeSlider={init:function(){console.log("==> init office slider"),ComponentOfficeSlider.config={animating:!1},this.initAnchors(),$(".office-slider").each(function(){function e(e){ComponentOfficeSlider.config.animating=!0;var t=e-1,o=n.find(".office-slider-slide:eq("+t+") img").attr("alt");n.find(".office-slider-slide").removeClass("current"),n.find(".office-slider-legend-text").addClass("hide"),setTimeout(function(){n.find(".office-slider-slide").eq(t).addClass("current")},300),setTimeout(function(){n.find(".office-slider-pagination .current-slide").text(e),n.find(".office-slider-legend-text").text(o).removeClass("hide"),ComponentOfficeSlider.config.animating=!1},450)}var n=$(this),t=1,o=n.find(".office-slider-slide").length,i=n.find(".office-slider-nav-next"),a=n.find(".office-slider-nav-prev");n.find(".office-slider-slide").first().addClass("current");var s=n.find(".office-slider-slide:eq(0) img").attr("alt");n.find(".office-slider-legend-text").text(s),n.find(".office-slider-pagination .current-slide").text(t),n.find(".office-slider-pagination .total-slides").text(o),a.click(function(){ComponentOfficeSlider.config.animating||(--t,0===t&&(t=o),e(t))}),i.click(function(){ComponentOfficeSlider.config.animating||(++t,t===o+1&&(t=1),e(t))});var r=new Hammer(n[0]);r.on("swipeleft",function(e){i.click()}),r.on("swiperight",function(e){a.click()})})},initAnchors:function(){var e='<ul class="offices-nav">';$("section.office").each(function(){var n=$(this),t=n.find("h2").text(),o=t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-");n.attr("id","office-"+o),e+='<li><a href="#office-'+o+'">'+t+"</a></li>"}),e+="</ul>",$(".header-page .col.first").append(e),$(".offices-nav a").click(function(e){e.preventDefault();var n=$(this).attr("href"),t=$(n).offset().top-120;$("html, body").animate({scrollTop:t},t)})}},ComponentResponsive={init:function(){console.log("==> init responsive"),ComponentResponsive.bp={window:$(window).width(),tablet:1260,vtablet:960,mobile:640},ComponentResponsive.bp.window<ComponentResponsive.bp.mobile&&0==$(".overlay").length&&$("main").prepend('<div class="overlay"></div>');var e=$(".header-page-card-author");if(ComponentResponsive.bp.window<ComponentResponsive.bp.vtablet&&e.length>0&&0==$(".scrollTouch-container").length){e.parent().addClass("scrollTouch");var n=e.find(".card").length*e.find(".card").width()+25*e.find(".card").length+40;e.width(n)}ComponentResponsive.bp.window<ComponentResponsive.bp.vtablet&&$(".cards").length>0&&0==$(".scrollTouch-container").length&&$(".cards").each(function(){var e=$(this),n=e.find(".card").length;e.addClass("scrollTouch"),e.find(".col").wrapAll('<div class="scrollTouch-container" />');var t=n*e.find(".card").outerWidth()+100*n;e.find(".scrollTouch-container").width(t)});var t=$(".filters-container"),o=$(".toggle-filters");if(o.click(function(){t.toggleClass("open"),t.hasClass("open")?o.find("span").attr("class","icon-PG_Icons_Set__Close"):o.find("span").attr("class","icon-PG_Icons_Set__Filter");
}),ComponentResponsive.bp.window<ComponentResponsive.bp.mobile&&$(".block-presentation.reverse-mobile").length>0){var i=$(".block-presentation.reverse-mobile");i.children().each(function(e,n){$(this).parents(".block-presentation.reverse-mobile").prepend(n)})}ComponentResponsive.bp.window<ComponentResponsive.bp.vtablet&&$(".discover-us").length>0&&$(".discover-us").insertAfter(".header-home h2")}},ComponentScrollWatch={init:function(){if(console.log("==> init scrollWatch"),ComponentScrollWatch.initScrollTrigger(),$(".scrollwatch").each(function(){var e=$(this),n=e.find(".col.first"),t=e.find(".sidebar"),o=t.children("div");if(o.length>0){var i=e.height();t.height(i-130),minHeightSidebar=o.height()+260,minHeightSidebar>n.height()&&n.height(n.height()+130);var a=e.position(),s=a.top,r=s+(i-o.height()-280);ComponentScrollWatch.fixEl(o,s,r)}}),$(".funds-list-header").length){var e=$(".funds-list"),n=$(".funds-list-header"),t=n.offset().top-40;$(window).on("scroll",function(){var n=$(this).scrollTop();n>t?e.addClass("fixed"):e.removeClass("fixed")})}$(".scrollto-subscribe").length&&$(".scrollto-subscribe").click(function(){var e=$("#subscribe-anchor").offset().top-50;$("html, body").animate({scrollTop:e},e)})},initScrollTrigger:function(){var e=$(window).scrollTop();if(0===e){new ScrollTrigger({offset:{x:0,y:220},once:!0})}},fixEl:function(e,n,t){$(window).on("scroll",function(){var o=$(this).scrollTop();o>n&&o<t?(e.addClass("fixed"),e.removeClass("tobottom")):o>t?e.addClass("tobottom"):(e.removeClass("fixed"),e.removeClass("tobottom"))})}},ComponentVideoGallery={init:function(){console.log("==> init video gallery"),ComponentVideoGallery.config={player:"",player_state:0,player_video_title:"",plateform:""};var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n);var t=$(".videos-gallery").parents(".block-wrap").find("h2"),o=$(".videos-gallery .video-quote blockquote"),i=$(".videos-gallery .video-quote-author"),a=$("#video-player").data("video-id");ComponentVideoGallery.config.plateform=$("#video-player").data("plateform"),ComponentVideoGallery.config.player_video_title=t.text(),"youtube"==ComponentVideoGallery.config.plateform?window.onYouTubeIframeAPIReady=function(){ComponentVideoGallery.loadVideo(a)}:ComponentVideoGallery.loadVideo(a,!1),$(".change-video").click(function(e){e.preventDefault();var n=$(this),a=n.data("video-id"),s=n.find(".tag").text(),r=n.find("h4").text(),l=n.find("p").text();t.text(s),o.text(l),i.text(r),"youtube"==ComponentVideoGallery.config.plateform?ComponentVideoGallery.config.player.destroy():ComponentVideoGallery.config.player.unload(),$(".videos-gallery .more-articles").addClass("videos-hide"),$("#video-player").remove(),ComponentVideoGallery.config.player=null,$(".video-player-container").append('<div id="video-player"></div>'),$("#video-player").removeAttr("data-vimeo-initialized"),$("#video-player").attr("data-plateform",n.data("plateform")),$("#video-player").attr("data-video-id",a),ComponentVideoGallery.config.player_video_title=s,ComponentVideoGallery.config.plateform=n.data("plateform"),ComponentVideoGallery.loadVideo(a,!0),$(".change-video").removeClass("current-video"),n.addClass("current-video"),setTimeout(function(){},1e3);var c=$(".videos-gallery").offset().top-220;$("html, body").animate({scrollTop:c},c)}),document.addEventListener("fullscreenchange",function(){$("[data-scroll]").removeAttr("data-scroll")},!1),document.addEventListener("msfullscreenchange",function(){$("[data-scroll]").removeAttr("data-scroll")},!1),document.addEventListener("mozfullscreenchange",function(){$("[data-scroll]").removeAttr("data-scroll")},!1),document.addEventListener("webkitfullscreenchange",function(){$("[data-scroll]").removeAttr("data-scroll")},!1)},loadVideo:function(e,n){if("youtube"==ComponentVideoGallery.config.plateform){var t={height:"430",width:"730",videoId:e,events:{onStateChange:function(e){e.data==-1&&dataLayer.push({event:"actionpiguet","W-cat":"Videos","W-act":"Videos click play","W-lib":ComponentVideoGallery.config.player_video_title})}}};ComponentVideoGallery.config.player=new YT.Player("video-player",t)}else{var t={id:e,width:"730",height:"430"};ComponentVideoGallery.config.player=new Vimeo.Player($("#video-player"),t)}n&&setTimeout(function(){"youtube"==ComponentVideoGallery.config.plateform?ComponentVideoGallery.config.player.playVideo():ComponentVideoGallery.config.player.play()},1500),"vimeo"==ComponentVideoGallery.config.plateform&&ComponentVideoGallery.config.player.on("play",function(e){e.seconds<1&&dataLayer.push({event:"actionpiguet","W-cat":"Videos","W-act":"Videos click play","W-lib":ComponentVideoGallery.config.player_video_title})})}};